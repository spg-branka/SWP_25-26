// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
    provider = "sqlite"
    url      = "file:../dev.db"
}

model Question {
    id                String     @id @default(cuid())
    difficulty        Difficulty @relation(fields: [difficultyId], references: [id])
    category          Category   @relation(fields: [categoryId], references: [id])
    question          String
    incorrect_answers Answer[]   @relation(name: "IncorrectAnswers")
    correct_answer    Answer     @relation(name: "CorrectAnswer", fields: [correct_answer_id], references: [id])
    correct_answer_id String
    difficultyId      String
    categoryId        String
    type              Type       @relation(fields: [typeId], references: [id])
    typeId            String
}

//neu
model Type {
    id       String     @id @default(cuid())
    type     String     @unique
    Question Question[]
}

//neu
model Category {
    id         String     @id @default(cuid())
    name       String     @unique
    opentdb_id Int        @unique
    question   Question[]
}

//neu
model Difficulty {
    id       String     @id @default(cuid())
    level    String     @unique
    Question Question[]
}

model Answer {
    id                     String     @id @default(cuid())
    answer                 String
    incorrect_in_questions Question[] @relation(name: "IncorrectAnswers")
    correct_in_questions   Question[] @relation(name: "CorrectAnswer")
}
